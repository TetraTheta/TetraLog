(()=>{var ir=Object.create;var rt=Object.defineProperty;var sr=Object.getOwnPropertyDescriptor;var ar=Object.getOwnPropertyNames;var or=Object.getPrototypeOf,cr=Object.prototype.hasOwnProperty;var lr=(M,e)=>()=>(e||M((e={exports:{}}).exports,e),e.exports);var hr=(M,e,s,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of ar(e))!cr.call(M,l)&&l!==s&&rt(M,l,{get:()=>e[l],enumerable:!(o=sr(e,l))||o.enumerable});return M};var ur=(M,e,s)=>(s=M!=null?ir(or(M)):{},hr(e||!M||!M.__esModule?rt(s,"default",{value:M,enumerable:!0}):s,M));var at=lr((Oe,Re)=>{(function(M,e){typeof Oe=="object"&&typeof Re<"u"?Re.exports=e():typeof define=="function"&&define.amd?define(e):(M=typeof globalThis<"u"?globalThis:M||self,M.Fuse=e())})(Oe,function(){"use strict";function M(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,i)}return t}function e(r){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?M(Object(t),!0).forEach(function(i){m(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function s(r){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s(r)}function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function l(r,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Pe(i.key),i)}}function u(r,n,t){return n&&l(r.prototype,n),t&&l(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function m(r,n,t){return n=Pe(n),n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function x(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&S(r,n)}function E(r){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(r)}function S(r,n){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},S(r,n)}function se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ae(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Le(r,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ae(r)}function N(r){var n=se();return function(){var i=E(r),a;if(n){var c=E(this).constructor;a=Reflect.construct(i,arguments,c)}else a=i.apply(this,arguments);return Le(this,a)}}function W(r){return lt(r)||ht(r)||ut(r)||dt()}function lt(r){if(Array.isArray(r))return be(r)}function ht(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ut(r,n){if(r){if(typeof r=="string")return be(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return be(r,n)}}function be(r,n){(n==null||n>r.length)&&(n=r.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=r[t];return i}function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(r,n){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function Pe(r){var n=ft(r,"string");return typeof n=="symbol"?n:String(n)}function B(r){return Array.isArray?Array.isArray(r):ze(r)==="[object Array]"}var gt=1/0;function vt(r){if(typeof r=="string")return r;var n=r+"";return n=="0"&&1/r==-gt?"-0":n}function mt(r){return r==null?"":vt(r)}function j(r){return typeof r=="string"}function Ne(r){return typeof r=="number"}function pt(r){return r===!0||r===!1||yt(r)&&ze(r)=="[object Boolean]"}function je(r){return s(r)==="object"}function yt(r){return je(r)&&r!==null}function P(r){return r!=null}function Me(r){return!r.trim().length}function ze(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}var vr="Extended search is not available",wt="Incorrect 'index' type",Lt=function(n){return"Invalid value for key ".concat(n)},bt=function(n){return"Pattern length exceeds max of ".concat(n,".")},Mt=function(n){return"Missing ".concat(n," property in key")},xt=function(n){return"Property 'weight' in key '".concat(n,"' must be a positive integer")},De=Object.prototype.hasOwnProperty,_t=function(){function r(n){var t=this;o(this,r),this._keys=[],this._keyMap={};var i=0;n.forEach(function(a){var c=qe(a);t._keys.push(c),t._keyMap[c.id]=c,i+=c.weight}),this._keys.forEach(function(a){a.weight/=i})}return u(r,[{key:"get",value:function(t){return this._keyMap[t]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),r}();function qe(r){var n=null,t=null,i=null,a=1,c=null;if(j(r)||B(r))i=r,n=Be(r),t=xe(r);else{if(!De.call(r,"name"))throw new Error(Mt("name"));var d=r.name;if(i=d,De.call(r,"weight")&&(a=r.weight,a<=0))throw new Error(xt(d));n=Be(d),t=xe(d),c=r.getFn}return{path:n,id:t,weight:a,src:i,getFn:c}}function Be(r){return B(r)?r:r.split(".")}function xe(r){return B(r)?r.join("."):r}function St(r,n){var t=[],i=!1,a=function c(d,h,f){if(P(d))if(!h[f])t.push(d);else{var p=h[f],g=d[p];if(!P(g))return;if(f===h.length-1&&(j(g)||Ne(g)||pt(g)))t.push(mt(g));else if(B(g)){i=!0;for(var w=0,y=g.length;w<y;w+=1)c(g[w],h,f+1)}else h.length&&c(g,h,f+1)}};return a(r,j(n)?n.split("."):n,0),i?t:t[0]}var Et={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},kt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(n,t){return n.score===t.score?n.idx<t.idx?-1:1:n.score<t.score?-1:1}},$t={location:0,threshold:.6,distance:100},At={useExtendedSearch:!1,getFn:St,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},L=e(e(e(e({},kt),Et),$t),At),Tt=/[^ ]+/g;function It(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,t=new Map,i=Math.pow(10,n);return{get:function(c){var d=c.match(Tt).length;if(t.has(d))return t.get(d);var h=1/Math.pow(d,.5*r),f=parseFloat(Math.round(h*i)/i);return t.set(d,f),f},clear:function(){t.clear()}}}var _e=function(){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.getFn,i=t===void 0?L.getFn:t,a=n.fieldNormWeight,c=a===void 0?L.fieldNormWeight:a;o(this,r),this.norm=It(c,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}return u(r,[{key:"setSources",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=t}},{key:"setIndexRecords",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=t}},{key:"setKeys",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=i,this._keysMap={},i.forEach(function(a,c){t._keysMap[a.id]=c})}},{key:"create",value:function(){var t=this;this.isCreated||!this.docs.length||(this.isCreated=!0,j(this.docs[0])?this.docs.forEach(function(i,a){t._addString(i,a)}):this.docs.forEach(function(i,a){t._addObject(i,a)}),this.norm.clear())}},{key:"add",value:function(t){var i=this.size();j(t)?this._addString(t,i):this._addObject(t,i)}},{key:"removeAt",value:function(t){this.records.splice(t,1);for(var i=t,a=this.size();i<a;i+=1)this.records[i].i-=1}},{key:"getValueForItemAtKeyId",value:function(t,i){return t[this._keysMap[i]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(t,i){if(!(!P(t)||Me(t))){var a={v:t,i,n:this.norm.get(t)};this.records.push(a)}}},{key:"_addObject",value:function(t,i){var a=this,c={i,$:{}};this.keys.forEach(function(d,h){var f=d.getFn?d.getFn(t):a.getFn(t,d.path);if(P(f)){if(B(f)){for(var p=[],g=[{nestedArrIndex:-1,value:f}];g.length;){var w=g.pop(),y=w.nestedArrIndex,b=w.value;if(P(b))if(j(b)&&!Me(b)){var _={v:b,i:y,n:a.norm.get(b)};p.push(_)}else B(b)&&b.forEach(function(k,A){g.push({nestedArrIndex:A,value:k})})}c.$[h]=p}else if(j(f)&&!Me(f)){var $={v:f,n:a.norm.get(f)};c.$[h]=$}}}),this.records.push(c)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),r}();function Ke(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.getFn,a=i===void 0?L.getFn:i,c=t.fieldNormWeight,d=c===void 0?L.fieldNormWeight:c,h=new _e({getFn:a,fieldNormWeight:d});return h.setKeys(r.map(qe)),h.setSources(n),h.create(),h}function Ct(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.getFn,i=t===void 0?L.getFn:t,a=n.fieldNormWeight,c=a===void 0?L.fieldNormWeight:a,d=r.keys,h=r.records,f=new _e({getFn:i,fieldNormWeight:c});return f.setKeys(d),f.setIndexRecords(h),f}function he(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.errors,i=t===void 0?0:t,a=n.currentLocation,c=a===void 0?0:a,d=n.expectedLocation,h=d===void 0?0:d,f=n.distance,p=f===void 0?L.distance:f,g=n.ignoreLocation,w=g===void 0?L.ignoreLocation:g,y=i/r.length;if(w)return y;var b=Math.abs(h-c);return p?y+b/p:b?1:y}function Ot(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L.minMatchCharLength,t=[],i=-1,a=-1,c=0,d=r.length;c<d;c+=1){var h=r[c];h&&i===-1?i=c:!h&&i!==-1&&(a=c-1,a-i+1>=n&&t.push([i,a]),i=-1)}return r[c-1]&&c-i>=n&&t.push([i,c-1]),t}var U=32;function Rt(r,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=i.location,c=a===void 0?L.location:a,d=i.distance,h=d===void 0?L.distance:d,f=i.threshold,p=f===void 0?L.threshold:f,g=i.findAllMatches,w=g===void 0?L.findAllMatches:g,y=i.minMatchCharLength,b=y===void 0?L.minMatchCharLength:y,_=i.includeMatches,$=_===void 0?L.includeMatches:_,k=i.ignoreLocation,A=k===void 0?L.ignoreLocation:k;if(n.length>U)throw new Error(bt(U));for(var I=n.length,R=r.length,T=Math.max(0,Math.min(c,R)),O=p,H=T,z=b>1||$,Y=z?Array(R):[],D;(D=r.indexOf(n,H))>-1;){var Xe=he(n,{currentLocation:D,expectedLocation:T,distance:h,ignoreLocation:A});if(O=Math.min(Xe,O),H=D+I,z)for(var ee=0;ee<I;)Y[D+ee]=1,ee+=1}H=-1;for(var te=[],fe=1,ge=I+R,tr=1<<I-1,G=0;G<I;G+=1){for(var ve=0,V=ge;ve<V;){var rr=he(n,{errors:G,currentLocation:T+V,expectedLocation:T,distance:h,ignoreLocation:A});rr<=O?ve=V:ge=V,V=Math.floor((ge-ve)/2+ve)}ge=V;var Ze=Math.max(1,T-V+1),Ae=w?R:Math.min(T+V,R)+I,re=Array(Ae+2);re[Ae+1]=(1<<G)-1;for(var q=Ae;q>=Ze;q-=1){var me=q-1,et=t[r.charAt(me)];if(z&&(Y[me]=+!!et),re[q]=(re[q+1]<<1|1)&et,G&&(re[q]|=(te[q+1]|te[q])<<1|1|te[q+1]),re[q]&tr&&(fe=he(n,{errors:G,currentLocation:me,expectedLocation:T,distance:h,ignoreLocation:A}),fe<=O)){if(O=fe,H=me,H<=T)break;Ze=Math.max(1,2*T-H)}}var nr=he(n,{errors:G+1,currentLocation:T,expectedLocation:T,distance:h,ignoreLocation:A});if(nr>O)break;te=re}var Te={isMatch:H>=0,score:Math.max(.001,fe)};if(z){var tt=Ot(Y,b);tt.length?$&&(Te.indices=tt):Te.isMatch=!1}return Te}function Ht(r){for(var n={},t=0,i=r.length;t<i;t+=1){var a=r.charAt(t);n[a]=(n[a]||0)|1<<i-t-1}return n}var Ve=function(){function r(n){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.location,c=a===void 0?L.location:a,d=i.threshold,h=d===void 0?L.threshold:d,f=i.distance,p=f===void 0?L.distance:f,g=i.includeMatches,w=g===void 0?L.includeMatches:g,y=i.findAllMatches,b=y===void 0?L.findAllMatches:y,_=i.minMatchCharLength,$=_===void 0?L.minMatchCharLength:_,k=i.isCaseSensitive,A=k===void 0?L.isCaseSensitive:k,I=i.ignoreLocation,R=I===void 0?L.ignoreLocation:I;if(o(this,r),this.options={location:c,threshold:h,distance:p,includeMatches:w,findAllMatches:b,minMatchCharLength:$,isCaseSensitive:A,ignoreLocation:R},this.pattern=A?n:n.toLowerCase(),this.chunks=[],!!this.pattern.length){var T=function(ee,te){t.chunks.push({pattern:ee,alphabet:Ht(ee),startIndex:te})},O=this.pattern.length;if(O>U){for(var H=0,z=O%U,Y=O-z;H<Y;)T(this.pattern.substr(H,U),H),H+=U;if(z){var D=O-U;T(this.pattern.substr(D),D)}}else T(this.pattern,0)}}return u(r,[{key:"searchIn",value:function(t){var i=this.options,a=i.isCaseSensitive,c=i.includeMatches;if(a||(t=t.toLowerCase()),this.pattern===t){var d={isMatch:!0,score:0};return c&&(d.indices=[[0,t.length-1]]),d}var h=this.options,f=h.location,p=h.distance,g=h.threshold,w=h.findAllMatches,y=h.minMatchCharLength,b=h.ignoreLocation,_=[],$=0,k=!1;this.chunks.forEach(function(I){var R=I.pattern,T=I.alphabet,O=I.startIndex,H=Rt(t,R,T,{location:f+O,distance:p,threshold:g,findAllMatches:w,minMatchCharLength:y,includeMatches:c,ignoreLocation:b}),z=H.isMatch,Y=H.score,D=H.indices;z&&(k=!0),$+=Y,z&&D&&(_=[].concat(W(_),W(D)))});var A={isMatch:k,score:k?$/this.chunks.length:1};return k&&c&&(A.indices=_),A}}]),r}(),K=function(){function r(n){o(this,r),this.pattern=n}return u(r,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(t){return We(t,this.multiRegex)}},{key:"isSingleMatch",value:function(t){return We(t,this.singleRegex)}}]),r}();function We(r,n){var t=r.match(n);return t?t[1]:null}var Ft=function(r){x(t,r);var n=N(t);function t(i){return o(this,t),n.call(this,i)}return u(t,[{key:"search",value:function(a){var c=a===this.pattern;return{isMatch:c,score:c?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),t}(K),Pt=function(r){x(t,r);var n=N(t);function t(i){return o(this,t),n.call(this,i)}return u(t,[{key:"search",value:function(a){var c=a.indexOf(this.pattern),d=c===-1;return{isMatch:d,score:d?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),t}(K),Nt=function(r){x(t,r);var n=N(t);function t(i){return o(this,t),n.call(this,i)}return u(t,[{key:"search",value:function(a){var c=a.startsWith(this.pattern);return{isMatch:c,score:c?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),t}(K),jt=function(r){x(t,r);var n=N(t);function t(i){return o(this,t),n.call(this,i)}return u(t,[{key:"search",value:function(a){var c=!a.startsWith(this.pattern);return{isMatch:c,score:c?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),t}(K),zt=function(r){x(t,r);var n=N(t);function t(i){return o(this,t),n.call(this,i)}return u(t,[{key:"search",value:function(a){var c=a.endsWith(this.pattern);return{isMatch:c,score:c?0:1,indices:[a.length-this.pattern.length,a.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),t}(K),Dt=function(r){x(t,r);var n=N(t);function t(i){return o(this,t),n.call(this,i)}return u(t,[{key:"search",value:function(a){var c=!a.endsWith(this.pattern);return{isMatch:c,score:c?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),t}(K),Ue=function(r){x(t,r);var n=N(t);function t(i){var a,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=c.location,h=d===void 0?L.location:d,f=c.threshold,p=f===void 0?L.threshold:f,g=c.distance,w=g===void 0?L.distance:g,y=c.includeMatches,b=y===void 0?L.includeMatches:y,_=c.findAllMatches,$=_===void 0?L.findAllMatches:_,k=c.minMatchCharLength,A=k===void 0?L.minMatchCharLength:k,I=c.isCaseSensitive,R=I===void 0?L.isCaseSensitive:I,T=c.ignoreLocation,O=T===void 0?L.ignoreLocation:T;return o(this,t),a=n.call(this,i),a._bitapSearch=new Ve(i,{location:h,threshold:p,distance:w,includeMatches:b,findAllMatches:$,minMatchCharLength:A,isCaseSensitive:R,ignoreLocation:O}),a}return u(t,[{key:"search",value:function(a){return this._bitapSearch.searchIn(a)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),t}(K),Ye=function(r){x(t,r);var n=N(t);function t(i){return o(this,t),n.call(this,i)}return u(t,[{key:"search",value:function(a){for(var c=0,d,h=[],f=this.pattern.length;(d=a.indexOf(this.pattern,c))>-1;)c=d+f,h.push([d,c-1]);var p=!!h.length;return{isMatch:p,score:p?0:1,indices:h}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),t}(K),Se=[Ft,Ye,Nt,jt,Dt,zt,Pt,Ue],Ge=Se.length,qt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Bt="|";function Kt(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.split(Bt).map(function(t){for(var i=t.trim().split(qt).filter(function(_){return _&&!!_.trim()}),a=[],c=0,d=i.length;c<d;c+=1){for(var h=i[c],f=!1,p=-1;!f&&++p<Ge;){var g=Se[p],w=g.isMultiMatch(h);w&&(a.push(new g(w,n)),f=!0)}if(!f)for(p=-1;++p<Ge;){var y=Se[p],b=y.isSingleMatch(h);if(b){a.push(new y(b,n));break}}}return a})}var Vt=new Set([Ue.type,Ye.type]),Wt=function(){function r(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.isCaseSensitive,a=i===void 0?L.isCaseSensitive:i,c=t.includeMatches,d=c===void 0?L.includeMatches:c,h=t.minMatchCharLength,f=h===void 0?L.minMatchCharLength:h,p=t.ignoreLocation,g=p===void 0?L.ignoreLocation:p,w=t.findAllMatches,y=w===void 0?L.findAllMatches:w,b=t.location,_=b===void 0?L.location:b,$=t.threshold,k=$===void 0?L.threshold:$,A=t.distance,I=A===void 0?L.distance:A;o(this,r),this.query=null,this.options={isCaseSensitive:a,includeMatches:d,minMatchCharLength:f,findAllMatches:y,ignoreLocation:g,location:_,threshold:k,distance:I},this.pattern=a?n:n.toLowerCase(),this.query=Kt(this.pattern,this.options)}return u(r,[{key:"searchIn",value:function(t){var i=this.query;if(!i)return{isMatch:!1,score:1};var a=this.options,c=a.includeMatches,d=a.isCaseSensitive;t=d?t:t.toLowerCase();for(var h=0,f=[],p=0,g=0,w=i.length;g<w;g+=1){var y=i[g];f.length=0,h=0;for(var b=0,_=y.length;b<_;b+=1){var $=y[b],k=$.search(t),A=k.isMatch,I=k.indices,R=k.score;if(A){if(h+=1,p+=R,c){var T=$.constructor.type;Vt.has(T)?f=[].concat(W(f),W(I)):f.push(I)}}else{p=0,h=0,f.length=0;break}}if(h){var O={isMatch:!0,score:p/h};return c&&(O.indices=f),O}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(t,i){return i.useExtendedSearch}}]),r}(),ue=[];function Ut(){ue.push.apply(ue,arguments)}function Ee(r,n){for(var t=0,i=ue.length;t<i;t+=1){var a=ue[t];if(a.condition(r,n))return new a(r,n)}return new Ve(r,n)}var de={AND:"$and",OR:"$or"},ke={PATH:"$path",PATTERN:"$val"},$e=function(n){return!!(n[de.AND]||n[de.OR])},Yt=function(n){return!!n[ke.PATH]},Gt=function(n){return!B(n)&&je(n)&&!$e(n)},Je=function(n){return m({},de.AND,Object.keys(n).map(function(t){return m({},t,n[t])}))};function Qe(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.auto,a=i===void 0?!0:i,c=function d(h){var f=Object.keys(h),p=Yt(h);if(!p&&f.length>1&&!$e(h))return d(Je(h));if(Gt(h)){var g=p?h[ke.PATH]:f[0],w=p?h[ke.PATTERN]:h[g];if(!j(w))throw new Error(Lt(g));var y={keyId:xe(g),pattern:w};return a&&(y.searcher=Ee(w,n)),y}var b={children:[],operator:f[0]};return f.forEach(function(_){var $=h[_];B($)&&$.forEach(function(k){b.children.push(d(k))})}),b};return $e(r)||(r=Je(r)),c(r)}function Jt(r,n){var t=n.ignoreFieldNorm,i=t===void 0?L.ignoreFieldNorm:t;r.forEach(function(a){var c=1;a.matches.forEach(function(d){var h=d.key,f=d.norm,p=d.score,g=h?h.weight:null;c*=Math.pow(p===0&&g?Number.EPSILON:p,(g||1)*(i?1:f))}),a.score=c})}function Qt(r,n){var t=r.matches;n.matches=[],P(t)&&t.forEach(function(i){if(!(!P(i.indices)||!i.indices.length)){var a=i.indices,c=i.value,d={indices:a,value:c};i.key&&(d.key=i.key.src),i.idx>-1&&(d.refIndex=i.idx),n.matches.push(d)}})}function Xt(r,n){n.score=r.score}function Zt(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.includeMatches,a=i===void 0?L.includeMatches:i,c=t.includeScore,d=c===void 0?L.includeScore:c,h=[];return a&&h.push(Qt),d&&h.push(Xt),r.map(function(f){var p=f.idx,g={item:n[p],refIndex:p};return h.length&&h.forEach(function(w){w(f,g)}),g})}var Z=function(){function r(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;o(this,r),this.options=e(e({},L),t),this.options.useExtendedSearch,this._keyStore=new _t(this.options.keys),this.setCollection(n,i)}return u(r,[{key:"setCollection",value:function(t,i){if(this._docs=t,i&&!(i instanceof _e))throw new Error(wt);this._myIndex=i||Ke(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(t){P(t)&&(this._docs.push(t),this._myIndex.add(t))}},{key:"remove",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},i=[],a=0,c=this._docs.length;a<c;a+=1){var d=this._docs[a];t(d,a)&&(this.removeAt(a),a-=1,c-=1,i.push(d))}return i}},{key:"removeAt",value:function(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.limit,c=a===void 0?-1:a,d=this.options,h=d.includeMatches,f=d.includeScore,p=d.shouldSort,g=d.sortFn,w=d.ignoreFieldNorm,y=j(t)?j(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Jt(y,{ignoreFieldNorm:w}),p&&y.sort(g),Ne(c)&&c>-1&&(y=y.slice(0,c)),Zt(y,this._docs,{includeMatches:h,includeScore:f})}},{key:"_searchStringList",value:function(t){var i=Ee(t,this.options),a=this._myIndex.records,c=[];return a.forEach(function(d){var h=d.v,f=d.i,p=d.n;if(P(h)){var g=i.searchIn(h),w=g.isMatch,y=g.score,b=g.indices;w&&c.push({item:h,idx:f,matches:[{score:y,value:h,norm:p,indices:b}]})}}),c}},{key:"_searchLogical",value:function(t){var i=this,a=Qe(t,this.options),c=function p(g,w,y){if(!g.children){var b=g.keyId,_=g.searcher,$=i._findMatches({key:i._keyStore.get(b),value:i._myIndex.getValueForItemAtKeyId(w,b),searcher:_});return $&&$.length?[{idx:y,item:w,matches:$}]:[]}for(var k=[],A=0,I=g.children.length;A<I;A+=1){var R=g.children[A],T=p(R,w,y);if(T.length)k.push.apply(k,W(T));else if(g.operator===de.AND)return[]}return k},d=this._myIndex.records,h={},f=[];return d.forEach(function(p){var g=p.$,w=p.i;if(P(g)){var y=c(a,g,w);y.length&&(h[w]||(h[w]={idx:w,item:g,matches:[]},f.push(h[w])),y.forEach(function(b){var _,$=b.matches;(_=h[w].matches).push.apply(_,W($))}))}}),f}},{key:"_searchObjectList",value:function(t){var i=this,a=Ee(t,this.options),c=this._myIndex,d=c.keys,h=c.records,f=[];return h.forEach(function(p){var g=p.$,w=p.i;if(P(g)){var y=[];d.forEach(function(b,_){y.push.apply(y,W(i._findMatches({key:b,value:g[_],searcher:a})))}),y.length&&f.push({idx:w,item:g,matches:y})}}),f}},{key:"_findMatches",value:function(t){var i=t.key,a=t.value,c=t.searcher;if(!P(a))return[];var d=[];if(B(a))a.forEach(function(b){var _=b.v,$=b.i,k=b.n;if(P(_)){var A=c.searchIn(_),I=A.isMatch,R=A.score,T=A.indices;I&&d.push({score:R,key:i,value:_,idx:$,norm:k,indices:T})}});else{var h=a.v,f=a.n,p=c.searchIn(h),g=p.isMatch,w=p.score,y=p.indices;g&&d.push({score:w,key:i,value:h,norm:f,indices:y})}return d}}]),r}();Z.version="7.0.0",Z.createIndex=Ke,Z.parseIndex=Ct,Z.config=L,Z.parseQuery=Qe,Ut(Wt);var er=Z;return er})});var v={case_sensitive:!1,distance:100,expand_results_meta:!0,filter_taxonomies:!0,filter_years:!0,headings_end_level:6,histories:!0,historiesCount:5,histories_count:5,icons:{expand:`<svg aria-hidden="true" class="bi bi-chevron-expand hi-svg-inline" fill="currentColor" height="1em" viewBox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708m0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708"/>
</svg>`,heading:`<svg aria-hidden="true" class="bi bi-hash hi-svg-inline" fill="currentColor" height="2em" viewBox="0 0 16 16" width="2em" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.39 12.648a1 1 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1 1 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.51.51 0 0 0-.523-.516.54.54 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532s.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531s.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/>
</svg>`,history:`<svg aria-hidden="true" class="bi bi-clock hi-svg-inline" fill="currentColor" height="2em" viewBox="0 0 16 16" width="2em" xmlns="http://www.w3.org/2000/svg">
  <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"/>
  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0"/>
</svg>`,lang:`<svg aria-hidden="true" class="bi bi-translate hi-svg-inline" fill="currentColor" height="1em" viewBox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286zm1.634-.736L5.5 3.956h-.049l-.679 2.022z"/>
  <path d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm7.138 9.995q.289.451.63.846c-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6 6 0 0 1-.415-.492 2 2 0 0 1-.94.31"/>
</svg>`,meta:`<svg aria-hidden="true" class="bi bi-info-circle hi-svg-inline" fill="currentColor" height="2em" viewBox="0 0 16 16" width="2em" xmlns="http://www.w3.org/2000/svg">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
</svg>`,page:`<svg aria-hidden="true" class="bi bi-file-earmark-richtext hi-svg-inline" fill="currentColor" height="2em" viewBox="0 0 16 16" width="2em" xmlns="http://www.w3.org/2000/svg">
  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"/>
  <path d="M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5m0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5m1.639-3.708 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V8.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8s1.54-1.274 1.639-1.208M6.25 6a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"/>
</svg>`,reset:`<svg aria-hidden="true" class="bi bi-x hi-svg-inline" fill="currentColor" height="1.5em" viewBox="0 0 16 16" width="1.5em" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
</svg>`,search:`<svg aria-hidden="true" class="bi bi-search hi-svg-inline" fill="currentColor" height="1.25em" viewBox="0 0 16 16" width="1.25em" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
</svg>`,sort:`<svg aria-hidden="true" class="bi bi-sort-down hi-svg-inline" fill="currentColor" height="1em" viewBox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
  <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
</svg>`,spinner:`<svg aria-hidden="true" class="bi bi-arrow-clockwise hi-svg-inline" fill="currentColor" height="1.35em" viewBox="0 0 16 16" width="1.35em" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
  <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
</svg>`,taxonomies:`<svg aria-hidden="true" class="bi bi-tags hi-svg-inline" fill="currentColor" height="1em" viewBox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
  <path d="M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"/>
  <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z"/>
</svg>`,year:`<svg aria-hidden="true" class="bi bi-calendar-check hi-svg-inline" fill="currentColor" height="1em" viewBox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0"/>
  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
</svg>`},ignore_location:!0,index_all_pages:!1,index_content:!0,index_headings:!0,index_summary:!0,index_taxonomies:!0,indices:["https://tetralog.haipa.xyz/search.json?v=6194ca66b915397099be447b0666c350"],key_weights:{content:.5,headings:.5,lang:1,summary:1,taxonomies:.1,title:1,year:1},lang:"ko",lazy_loading:!0,locales:{de:"https://tetralog.haipa.xyz/js/search/locales.de.json",en:"https://tetralog.haipa.xyz/js/search/locales.en.json",es:"https://tetralog.haipa.xyz/js/search/locales.es.json",fr:"https://tetralog.haipa.xyz/js/search/locales.fr.json",ko:"https://tetralog.haipa.xyz/js/search/locales.ko.json",ms:"https://tetralog.haipa.xyz/js/search/locales.ms.json",nl:"https://tetralog.haipa.xyz/js/search/locales.nl.json","pt-br":"https://tetralog.haipa.xyz/js/search/locales.pt-br.json",ru:"https://tetralog.haipa.xyz/js/search/locales.ru.json",vi:"https://tetralog.haipa.xyz/js/search/locales.vi.json","zh-hans":"https://tetralog.haipa.xyz/js/search/locales.zh-hans.json","zh-hant":"https://tetralog.haipa.xyz/js/search/locales.zh-hant.json"},location:0,max_results:100,min_match_char_length:2,modal_container:"body",modal_toggle_selector:".search-modal-toggle",paginate:20,sass_transpiler:"dartsass",shortcut_close:["Escape"],shortcut_search:["Control","k"],stall_threshold:900,threshold:0};(()=>{let M=l=>{l.classList.remove("show"),l.setAttribute("aria-expanded","false")},e=l=>{document.querySelectorAll(".search-dropdown.show").forEach(u=>{u!=l&&M(u)})},s=l=>{l.classList.add("show"),l.setAttribute("aria-expanded","true")},o=l=>{if(l.classList.contains("show")){M(l);return}s(l),e(l)};document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("keyup",l=>{let u=l.target;if(!u.classList.contains("search-dropdown-input"))return;let m=u.value.toLowerCase().trim(),x=u.closest(".search-dropdown"),E=Array.from(x?.querySelectorAll(".search-dropdown-item")??[]);for(let S of E){if(m===""||S.textContent?.toLowerCase().indexOf(m)!==-1){S.classList.remove("hide");continue}S.classList.contains("active")||S.classList.add("hide")}}),document.addEventListener("click",l=>{let u=l.target.closest(".search-dropdown-toggle");if(u){let S=u.closest(".search-dropdown");o(S),l.preventDefault();return}if(l.target.closest(".search-dropdown-input"))return;let x=l.target.closest(".search-dropdown-reset");if(x){let S=x.closest(".search-dropdown");S?.querySelectorAll(".search-dropdown-item.active").forEach(se=>{se.classList.remove("active"),S.removeAttribute("data-value"),S.classList.remove("active")})}let E=l.target.closest(".search-dropdown-item");if(E){let S=E.closest(".search-dropdown"),se=S.hasAttribute("multiple"),ae=E.getAttribute("data-value");se?(E.classList.contains("active")?E.classList.remove("active"):E.classList.add("active"),S.querySelector(".search-dropdown-item.active")?S.classList.add("active"):S.classList.remove("active")):(ae?(S.setAttribute("data-value",ae),S.classList.add("active")):(S.removeAttribute("data-value"),S.classList.remove("active")),S.querySelector(".search-dropdown-label").innerText=E.innerText,S.querySelectorAll(".search-dropdown-item").forEach(N=>{N.classList.remove("active")}),E.classList.add("active"));let Le=new CustomEvent("change",{detail:{value:ae}});S.dispatchEvent(Le)}e()})})})();var Ie=class{keys={};events=[];attach(e,s){this.events.push({keys:e,callback:s})}press(e){if(e.type==="keydown"){this.keys[e.key]=!0;for(let s in this.events){let o=this.events[s];this.isPressed(o.keys)&&o.callback(e)}return}delete this.keys[e.key]}isPressed(e){if(e.length===0)return!1;for(let s in e)if(!(e[s]in this.keys))return!1;return!0}},nt=new Ie,ne=nt;(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{let M=e=>{nt.press(e)};document.addEventListener("keydown",M),document.addEventListener("keyup",M)})})();var Ce=class{modal(){return document.querySelector(".search-modal-container.active")}current(){let e=this.modal();return e?e.querySelector('.search-result[aria-selected="true"]'):document.querySelector('.search-container .search-result[aria-selected="true"]')}go(e){let s=this.current(),o;s&&(s.ariaSelected="false",o=e==="prev"?s.previousElementSibling:s.nextElementSibling),o=o??this.first(),o.focus(),o.ariaSelected="true"}first(){let e=this.modal();return e?e.querySelector(".search-result"):document.querySelector(".search-container .search-result")}prev(){this.go("prev")}next(){this.go("next")}};(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{let M=new Ce;ne.attach(["ArrowUp"],e=>{M.prev(),e.preventDefault()}),ne.attach(["ArrowDown"],e=>{M.next(),e.preventDefault()})})})();var oe=class{constructor(e,s){this.translations=e;this.fallback=s}lang="";getLang(){return this.lang===""&&(this.lang=document.documentElement.getAttribute("lang")??this.fallback),this.lang}getTranslations(){let e=this.getLang();return this.translations[e]??this.getFallbackTranslations()}getFallbackTranslations(){return this.translations[this.fallback]}getFallbackTranslation(e){return this.getFallbackTranslations()[e]??""}translate(e,s,o=""){let l=this.getTranslations();if(!l)return o===""?e:o;let u=l[e]??this.getFallbackTranslation(e);if(!u)return o===""?e:o;if(!s)return u.other;let m=s.count===1?u.one:u.other;for(let x in s)m=m.replace(`{${x}}`,s[x]);return m}};var it,st=()=>new Promise(M=>{let e=document.documentElement.getAttribute("lang")??v.lang;fetch(v.locales[e]).then(s=>s.json()).then(s=>{it=new oe({[e]:s},e),M(!0)})}),C=(M,e)=>it.translate(M,e);var ot=ur(at()),He=class{index;indexFailed=!1;initialized=!1;sites=[];getBaseURL(e){return this.sites[e]?this.sites[e].baseURL:""}taxonomies={};years=[];langs={};init(){if(this.initialized)return new Promise((s,o)=>{let l=setInterval(()=>{this.index?(clearInterval(l),s(!0)):this.indexFailed&&(clearInterval(l),o("Index fails"))},50)});this.initialized=!0;let e=new Array;for(let s in v.indices){let o=v.indices[s],l=fetch(o).then(u=>u.json());e.push(l)}return Promise.all(e).then(s=>{let o=[];for(let l=0;l<s.length;l++){let u=s[l];if(Array.isArray(u))o=o.concat(u);else{let m=this.sites.push({baseURL:u.baseURL})-1;o=o.concat(u.pages.map(x=>({...x,site:m})));for(let x in u.taxonomies)this.taxonomies[x]===void 0&&(this.taxonomies[x]=[]),this.taxonomies[x].push(...u.taxonomies[x]);Object.assign(this.langs,u.langs),this.years.push(...u.years)}}for(let l in this.taxonomies){let u=this.taxonomies[l];this.taxonomies[l]=u.filter((m,x)=>u.indexOf(m)===x).sort()}this.years=this.years.filter((l,u)=>this.years.indexOf(l)===u).sort(),this.index=new ot.default(o,{isCaseSensitive:v.case_sensitive,minMatchCharLength:v.min_match_char_length,location:v.location,threshold:v.threshold,distance:v.distance,ignoreLocation:v.ignore_location,keys:this.getKeys(),includeMatches:!0,useExtendedSearch:!0,includeScore:!0})}).catch(s=>{throw this.indexFailed=!0,s})}keys;getKeys(){if(this.keys)return this.keys;let e=[{name:"title",weight:v.key_weights.title},{name:"summary",weight:v.key_weights.summary},{name:"headings.title",weight:v.key_weights.headings},{name:"lang",weight:v.key_weights.lang},{name:"year",weight:v.key_weights.year}];v.index_content&&e.push({name:"content",weight:v.key_weights.content});for(let s in ct.taxonomies)e.push({name:s,weight:v.key_weights.taxonomies});return this.keys=e,this.keys}query;results;search(e,s="",o="",l=[],u={}){let m=this.pattern(e,o,l,u),x=new Date().getTime();return new Promise(E=>{setTimeout(()=>{if(JSON.stringify(this.query)===JSON.stringify(m)){E({results:this.sort(this.results,s),time:new Date().getTime()-x});return}return this.results=this.index.search(m,{limit:v.max_results}),this.query=m,E({results:this.sort(this.results,s),time:new Date().getTime()-x})},1)})}pattern(e,s,o=[],l={}){let u=[];if(e!==""&&u.push({$or:[{title:e},{summary:e},{content:e},{$path:"headings.title",$val:e}]}),s&&u.push({lang:"="+s}),o.length>0){let m=[];for(let x of o)m.push({year:`=${x}`});u.push({$or:m})}for(let m in l){if(l[m].length===0)continue;let x=[];for(let E of l[m])x.push({[m]:`="${E}"`});u.push({$and:x})}return{$and:u}}sort(e,s){switch(s){case"date_asc":e=e.sort((o,l)=>o.item.date-l.item.date);break;case"date_desc":e=e.sort((o,l)=>l.item.date-o.item.date);break}return e}},ct=new He,F=ct;var Fe=class{key="search-histories";get(){let e=JSON.parse(localStorage.getItem(this.key)??"[]");return e instanceof Array||(e=[]),e.slice(0,v.historiesCount)}save(e){if(e==="")return;let s=this.get();s=s.filter(o=>o.query!==e),s.unshift({query:e,date:new Date}),s.length>v.historiesCount&&s.pop(),localStorage.setItem(this.key,JSON.stringify(s))}},pe=new Fe;var J=class{constructor(e,s){this.spinner=e;this.renderer=s;this.stallThreshold=v.stall_threshold}pageTitle;popstate=!1;ele;input;timeoutId=0;stallThreshold;language;sorting;years;modal=!0;render(){return`<form class="search-form">
  <div class="search-input-group-wrapper">
    <div class="search-input-group">
        <span class="search-input-icon">${v.icons.search}</span>
        <span class="search-spinner">${v.icons.spinner}</span>
        <input type="search" name="q" class="search-input search-form-control" placeholder="${C("input_placeholder")}" autocomplete="off" disabled/>
        <button class="search-reset-button disabled" type="reset">${v.icons.reset}</button>
    </div>
    <button class="search-modal-close" type="button">${C("cancel")}</button>
  </div>
  <div class="search-form-meta">
    <div class="search-panel"></div>
    <div class="search-stat"></div>
  </div>
</form>`}renderLanguage(){if(Object.keys(F.langs).length<2)return"";let e=document.documentElement.getAttribute("lang")??"",s=C("all"),o=`<li class="search-dropdown-item${e?"":" active"}" data-value="">${s}</li>`;for(let l in F.langs){let u=F.langs[l],m="";l===e&&(m=" active",s=u),o+=`<li class="search-dropdown-item${m}" data-value="${l}">${u}</li>`}return`<div class="search-dropdown search-panel-action search-filter-lang${e?" active":""}" data-value="${e}">
  <button class="search-dropdown-toggle" type="button" aria-expanded="false" title="Languages">
    ${v.icons.lang}
    <span class="search-dropdown-label">${s}</span>
  </button>
  <div class="search-dropdown-body">
    <ul class="search-dropdown-menu">${o}</ul>
  </div>
</div>`}renderSorting(){if(F.langs.length<2)return"";let e=C("sort_by_default");return`<div class="search-dropdown search-panel-action search-sorting">
  <button class="search-dropdown-toggle" type="button" aria-expanded="false" title="Sorting">
    ${v.icons.sort} <span class="search-dropdown-label">${e}</span>
  </button>
  <div class="search-dropdown-body">
    <ul class="search-dropdown-menu">
        <li class="search-dropdown-item active" data-value="">${e}</li>
        <li class="search-dropdown-item" data-value="date_asc">${C("sort_by_date_asc")}</li>
        <li class="search-dropdown-item" data-value="date_desc">${C("sort_by_date_desc")}</li>
    </ul>
  </div>
</div>`}renderYears(){if(F.years.length===0)return"";let e="";for(let o of F.years)e+=`<li class="search-dropdown-item" data-value="${o}">${o}</li>`;let s=C("years");return`<div class="search-dropdown search-panel-action search-years" multiple>
        <button class="search-dropdown-toggle" type="button" aria-expanded="false" title="${s}">
          ${v.icons.year} <span class="search-dropdown-label">${s}</span>
        </button>
        <div class="search-dropdown-body">
          <button class="search-dropdown-reset">${C("reset")}</button>
          <ul class="search-dropdown-menu">${e}</ul>
        </div>
      </div>`}renderTaxonomies(){let e="";for(let s in F.taxonomies)e+=this.renderTaxonomy(s,F.taxonomies[s]);return e}renderTaxonomy(e,s){let o="";for(let u of s)o+=`<li class="search-dropdown-item" data-value="${u}">${u}</li>`;let l=C("taxonomy_"+e,null,e);return`<div class="search-dropdown search-panel-action search-taxonomies search-taxonomies-${e}" multiple>
        <button class="search-dropdown-toggle" type="button" aria-expanded="false" title="${l}">
          ${v.icons.taxonomies} <span class="search-dropdown-label">${l}</span>
        </button>
        <div class="search-dropdown-body">
            <input class="search-dropdown-input">
            <button class="search-dropdown-reset">${C("reset")}</button>
            <ul class="search-dropdown-menu">${o}</ul>
        </div>
      </div>`}initialized=!1;init(){this.initialized||(this.initialized=!0,this.pageTitle=document.title,this.ele=document.querySelector(".search-form"),this.ele.addEventListener("submit",e=>{e.preventDefault(),this.submit()}),this.input=this.ele.querySelector(".search-input"),this.input.addEventListener("keyup",()=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.submit()},this.stallThreshold)}),this.input.addEventListener("search",()=>{this.submit()}),document.addEventListener("search:input:change",e=>{this.input.value=e.detail.value,this.submit()}),this.ele.addEventListener("reset",()=>{let e=document.documentElement.getAttribute("lang")??"";this.language?.querySelectorAll(".search-dropdown-item").forEach(s=>{s.getAttribute("data-value")!==e?s.classList.remove("active"):(this.language.classList.add("active"),this.language.setAttribute("data-value",e),this.language.querySelector(".search-dropdown-label").innerHTML=s.innerHTML,s.classList.add("active"))});for(let s of["years","taxonomies"])this.ele.querySelectorAll(`.search-${s}.active`).forEach(o=>{o.querySelectorAll(".search-dropdown-item.active").forEach(l=>{l.classList.remove("active")}),o.classList.remove("active")});setTimeout(()=>{this.submit()},1)}),this.spinner.show(),F.init().then(()=>{this.renderPanel()}).then(()=>{this.input.removeAttribute("disabled")}).catch(e=>{throw this.input.value=C("index_fails"),e}).then(()=>{this.modal||(this.fillInputByURL(),this.submit())}).finally(()=>{this.focus(),this.spinner.hide()}),this.modal||window.addEventListener("popstate",()=>{this.popstate=!0,this.fillInputByURL(),this.submit()}))}renderPanel(){let e=this.ele.querySelector(".search-panel");e.innerHTML=`${this.renderLanguage()}
${this.renderSorting()}
${this.renderYears()}
${this.renderTaxonomies()}
<button class="search-panel-action search-expand-toggle${v.expand_results_meta?" active":""}" title="Expand">
    <span class="search-panel-action-icon">${v.icons.expand}</span>
    <span class="search-panel-action-label">${C("expand")}</span>
</button>`,this.language=this.ele.querySelector(".search-filter-lang"),this.language?.addEventListener("change",()=>{this.submit()}),this.sorting=this.ele.querySelector(".search-sorting"),this.sorting.addEventListener("change",()=>{this.submit()}),this.years=this.ele.querySelector(".search-years"),this.years?.addEventListener("change",()=>{this.submit()}),this.ele.querySelectorAll(".search-taxonomies").forEach(o=>{o.addEventListener("change",()=>{this.submit()})});let s=this.ele.querySelector(".search-expand-toggle");s?.addEventListener("click",o=>{s.classList.contains("active")?s.classList.remove("active"):s.classList.add("active"),this.renderer.expand(),o.preventDefault()})}fillInputByURL(){let s=new URLSearchParams(location.search).get("q");s&&(this.input.value=s.trim())}showResetBtn(){this.ele.querySelector('button[type="reset"]')?.classList.remove("disabled")}hideResetBtn(){this.ele.querySelector('button[type="reset"]')?.classList.add("disabled")}submit(){this.input.disabled=!0;let e=this.getQuery();this.updatePage(e);let s=this.getSorting(),o=this.getLanguage(),l=this.getYears(),u=this.getTaxonomies();if(e===""&&Object.values(u).filter(m=>m.length>0).length==0){this.input.disabled=!1,this.hideResetBtn(),this.renderer.clean(),this.renderer.renderHistories();return}this.showResetBtn(),this.spinner.show(),F.search(e,s,o,l,u).then(({results:m,time:x})=>{this.renderer.render(e,m,x)}).finally(()=>{v.histories&&pe.save(e),this.spinner.hide(),this.input.disabled=!1,this.focus()})}updatePage(e){if(this.modal||this.popstate)return;this.popstate=!1;let s=(e?`${e} - `:"")+this.pageTitle,o=`${window.location.pathname}?q=${encodeURIComponent(e)}`;window.history.pushState(null,s,o),document.title=s}focus(){this.input.focus()}setQuery(e){this.input.value=e}getQuery(){return this.input.value.trim()}getLanguage(){return this.language?this.language.getAttribute("data-value")??"":""}getSorting(){return this.sorting.getAttribute("data-value")??""}getYears(){let e=[];return this.years?.querySelectorAll(".search-dropdown-item.active").forEach(s=>{e.push(s.getAttribute("data-value")??"")}),e}getTaxonomies(){let e={};for(let s in F.taxonomies){let o=[];document.querySelectorAll(`.search-taxonomies-${s} .search-dropdown-item.active`).forEach(l=>{o.push(l.getAttribute("data-value")??"")}),e[s]=o}return e}};var Q=class{constructor(e){this.ele=e}getElement(){return this.ele instanceof HTMLElement||(this.ele=document.querySelector(this.ele)),this.ele}searchIcon;getSearchIcon(){return this.searchIcon||(this.searchIcon=this.getElement().previousElementSibling),this.searchIcon}hide(){setTimeout(()=>{this.getSearchIcon().classList.remove("disabled"),this.getElement().classList.add("disabled")},200)}show(){this.getSearchIcon().classList.add("disabled"),setTimeout(()=>{this.getElement().classList.remove("disabled")},1)}};var X=class{constructor(e,s,o){this.container=e;this.statistics=s;this.spinner=o;this.paginate=Math.max(this.paginate,v.paginate)}initialized=!1;lang;page=1;paginate=20;query="";results;time=0;getContainer(){return this.container instanceof HTMLElement||(this.container=document.querySelector(this.container),v.expand_results_meta&&this.container.classList.add("expanded")),this.container}getStatistics(){return this.statistics instanceof HTMLElement||(this.statistics=document.querySelector(this.statistics)),this.statistics}"";getLang(){return this.lang||(this.lang=document.documentElement.getAttribute("lang")??v.lang),this.lang}clean(){this.results=[],this.getContainer().innerHTML="",this.getStatistics().innerHTML=""}icon(e){return e.kind in v.icons?v.icons[e.kind]:v.icons.page}img(e){if(e.img){let s="",o="";return e.img_h&&(s=` height="${e.img_h}"`),e.img_w&&(o=` width="${e.img_w}"`),`<img class="search-result-img" src="${e.img}"${o}${s} />`}return""}url(e,s){return F.getBaseURL(e.site)+s}taxonomies(e){let s="";for(let o of Object.keys(F.taxonomies)){let l=e[o];if(l)for(let u of l)s+=`<span class="search-result-taxonomy">${u}</span>`}return s}date(e){return e.date<=0?"":new Date(e.date*1e3).toLocaleDateString(this.getLang(),{dateStyle:"long"})}title(e){return this.highlight(e.item.title,e.matches.filter(s=>s.key==="title"))}desc(e){return!e.item.summary||e.item.summary===""?"":'<div class="search-result-desc">'+this.highlight(e.item.summary,e.matches.filter(s=>s.key==="summary"))+"</div>"}contentContextLength=20;content(e){if(!v.index_content||!e.item.content)return"";let s=e.matches.filter(u=>u.key==="content"),o=this.highlight(e.item.content,s),l=o.indexOf("<mark>");return l>0&&(o=(l>this.contentContextLength?"...":"")+o.substring(Math.max(0,l-this.contentContextLength))),`<div class="search-result-content-content">${o}</div>`}highlight(e,s){if(s.length===0)return e;let o="",l=0;for(let u in s){let m=s[u];for(let x in m.indices){let E=Math.max(l,m.indices[x][0]),S=m.indices[x][1]+1;E>=S||(o+=`${e.substring(l,E)}<mark>${e.substring(E,S)}</mark>`,l=S)}}return o+=e.substring(l),o}render(e,s,o){this.init(),this.clean(),this.getContainer().parentElement.scrollTop=0,this.page=1,this.results=s,this.time=o,this.query=e,this.renderStat(),this.renderPage()}expand(){let e=this.getContainer();e.classList.contains("expanded")?e.classList.remove("expanded"):e.classList.add("expanded")}init(){if(this.initialized)return;this.initialized=!0;let e=this.getContainer(),s=l=>{for(let u of l)if(u.type==="childList")for(let m of u.addedNodes)m.querySelector(".search-result-action-meta")?.addEventListener("click",E=>{this.toggleMeta(m.querySelector(".search-result-meta")),E.preventDefault()}),m.addEventListener("mousemove",()=>{this.activeResult(m)})};new MutationObserver(s).observe(e,{childList:!0})}renderHistories(){if(!v.histories)return;let e=pe.get(),s="";e.forEach(o=>{s+=`<a title="${o.query}" data-query="${o.query}" href="#" class="search-result search-history" aria-selected="false">
  <div class="search-result-icon">${v.icons.history}</div>
  <div class="search-result-content">
    <div class="search-result-title">${o.query}</div>
    <div class="search-result-desc">${o.date?o.date.toLocaleString():""}</div>
  </div>
</a>`}),this.getContainer().insertAdjacentHTML("beforeend",s),this.getContainer().querySelectorAll(".search-history").forEach(o=>{o.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),document.dispatchEvent(new CustomEvent("search:input:change",{detail:{value:o.getAttribute("data-query")}}))})})}activeResult(e){e.ariaSelected!=="true"&&(this.getContainer().querySelectorAll(".search-result").forEach(s=>{s.ariaSelected="false"}),e.ariaSelected="true")}toggleMeta(e){if(e.classList.contains("show")){e.classList.remove("show");return}e.classList.add("show")}renderStat(){let e=this.getStatistics();e.innerHTML=C("search_stat",{count:this.results.length,total:`<span class="search-stat-results">${this.results.length}</span>`,time:this.prettifyTime()})}prettifyTime(){return this.time>=100?parseFloat((this.time/1e3).toFixed(2))+"s":this.time+"ms"}score(e){return((1-e)*100).toFixed(0)+"%"}loadMoreObserver;lastResult;observeLoadMore(){if(this.loadMoreObserver===void 0){let s={rootMargin:"0px",threshold:1};this.loadMoreObserver=new IntersectionObserver(o=>{o.forEach(l=>{l.isIntersecting&&this.loadMore()})},s)}let e=document.querySelector(".search-result:last-child");e!==null&&this.lastResult!=e&&this.loadMoreObserver.observe(e),this.lastResult&&this.loadMoreObserver.unobserve(this.lastResult),this.lastResult=e}loadMore(){this.page*this.paginate>this.results.length||(this.spinner.show(),new Promise(e=>{setTimeout(()=>{e(this.renderPage(++this.page))},1)}).finally(()=>{this.spinner.hide()}))}resultLinkTarget="";getResultLinkTarget(){return this.resultLinkTarget===""&&this.getContainer().closest(".search-container")!==null&&(this.resultLinkTarget=' target="_blank"'),this.resultLinkTarget}renderPage(e=1){let s=e*this.paginate,o=s-this.paginate,l="";for(let u=o;u<this.results.length&&u<s;u++){let m=this.results[u];l+=`<a title="${m.item.title}" href="${this.url(m.item,m.item.url)}"${this.getResultLinkTarget()} class="search-result" aria-selected="false">
  <div class="search-result-icon">${this.icon(m.item)}</div>
  <div class="search-result-content">
    <div class="search-result-title">${this.title(m)}</div>
    ${this.desc(m)}
  </div>
  ${this.img(m.item)}
  <div class="search-result-meta">
    <span class="search-result-score">${this.score(m.score)}</span>
    <span class="search-result-lang">${m.item.lang}</span>
    <span class="search-result-date">${this.date(m.item)}</span>
    ${this.taxonomies(m.item)}
    ${this.content(m)}
  </div>
  <div class="search-result-actions">
    <div class="search-result-action search-result-action-meta">${v.icons.meta}</div>
  </div>
</a>`,l+=this.renderHeadings(m)}this.getContainer().insertAdjacentHTML("beforeend",l),this.observeLoadMore()}renderHeadings(e){if(!e.item.headings||e.item.headings.length==0)return"";let s=e.matches.filter(l=>l.key==="headings.title");if(s.length==0)return"";let o="";for(let l in e.item.headings){let u=e.item.headings[l];for(let m in s){if(s[m].value!==u.title)continue;let x=this.headingAncestors(e.item.headings,u.pid);x=x.concat(e.item.title);let E=x.join(" \xB7 ");o+=`<a title="${u.title} - ${E}" href="${this.url(e.item,e.item.url)}#${u.anchor}"${this.getResultLinkTarget()} class="search-result search-result-heading">
  <div class="search-result-icon search-result-heading-icon">${v.icons.heading}</div>
  <div class="search-result-content">
    <div class="search-result-title">${this.highlight(u.title,[s[m]])}</div>
    <div class="search-result-desc">${E}</div>
  </div>
</a>`;break}}return o}headingAncestors(e,s){let o=[];return s>=0&&(o.push(e[s].title),o=o.concat(this.headingAncestors(e,e[s].pid))),o}};var ye=()=>({kbds:["\u2191","\u2193"],action:C("to_navigate")}),we=()=>({kbds:["\u23CE"],action:C("to_select")}),ie=class{constructor(e){this.shortcuts=e}render(){let e="";for(let s in this.shortcuts){let o=this.shortcuts[s]();e+=`<span class="search-shortcut">
${this.renderKbds(o.kbds)}
<span class="search-shortcut-action">${o.action}</span>
</span>`}return`<div class="search-shortcuts">${e}</div>`}renderKbds(e,s=!1){let o="";for(let l of e){if(l instanceof Array){o+=this.renderKbds(l,!0);continue}let u=`<kbd class="search-shortcut-kbd">${l}</kbd>`;o+=s?`<span class="search-shortcut-kbds">${u}</span>`:u}return o}};var fr=()=>({kbds:[v.shortcut_search],action:C("to_search")}),gr=()=>({kbds:[v.shortcut_close],action:C("to_close")}),ce=class{wrapper;container;renderer;form;shortcuts;constructor(){let e=new Q(".search-modal .search-spinner");this.renderer=new X(".search-modal .search-results",".search-modal .search-stat",e),this.form=new J(e,this.renderer),this.shortcuts=new ie([gr,fr,ye,we])}init(){this.wrapper=document.querySelector(v.modal_container),this.render(),v.lazy_loading===!1&&this.form.init(),this.container.addEventListener("click",e=>{!e.target||!(e.target instanceof HTMLElement)||(e.target.closest(".search-modal")||(this.hide(),e.preventDefault()),e.target.closest(".search-result")&&this.hide())}),document.querySelectorAll(v.modal_toggle_selector).forEach(e=>{e.addEventListener("click",()=>{this.show()})}),this.container.querySelectorAll(".search-modal-close").forEach(e=>{e.addEventListener("click",()=>{this.hide()})}),v.shortcut_close.length>0&&ne.attach(v.shortcut_close,()=>{this.hide()}),v.shortcut_search.length>0&&ne.attach(v.shortcut_search,e=>{e.preventDefault(),this.show()})}render(){this.container=document.createElement("div"),this.container.className="search-modal-container",this.container.innerHTML=`<div class="search-modal">
  <div class="search-modal-header">${this.form.render()}</div>
  <div class="search-modal-body"><div class="search-results"></div></div>
  ${this.renderFooter()}
</div>`,this.wrapper.appendChild(this.container),this.renderer.renderHistories()}renderFooter(){return`<div class="search-modal-footer">${this.shortcuts.render()}</div>`}hide(){document.body.classList.remove("search-modal-active"),this.container.classList.remove("active")}show(){this.form.init(),document.body.classList.add("search-modal-active"),this.container.classList.add("active"),this.form.focus()}};var le=class{container;form;shortcuts;renderer;constructor(){let e=document.querySelector(".search-container");if(!e)return;this.container=e;let s=new Q(".search-container .search-spinner");this.renderer=new X(".search-container .search-results",".search-container .search-stat",s),this.form=new J(s,this.renderer),this.form.modal=!1,this.shortcuts=new ie([ye,we]),this.render()}render(){let e=`<div class="search-header">${this.form.render()}</div>
<div class="search-body"><div class="search-results"></div></div>
<div class="search-footer">${this.shortcuts.render()}</div>`;this.container.insertAdjacentHTML("beforeend",e),this.form.init(),this.renderer.renderHistories()}};(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{st().then(()=>{new le,v.modal_container!==""&&new ce().init()})})})();})();
